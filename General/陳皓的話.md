https://mp.weixin.qq.com/s/bOnW8gDJ-dXp4KbAjhDw9A


創業

**為什麽會創業？**

離開阿裏的時候其實沒想過要創業，因為那時候最重要的事情是父親病危。我爸胰腺有些問題，醫生說得做手術。不做手術肯定撐不了多久，做手術的話還有 50% 的概率能夠救回來，但是需要觀察一年。

當時我就不知所措。人到中年，基本上都會遇到這些問題，中年危機啊。那年我 38 歲，工作出了問題，小孩上學也出了問題，父親還生病了，**所有的事情堆疊在一起，我的頭發很快就白了。**

從阿裏出來後，**我就一個人在家裏待著，安心陪父親。沒想到的是，這時候，幾乎國內所有的雲計算公司都來找我，還有一些創業團隊，**我就幫他們解決各種各樣的技術問題。那段時間，我就感覺技術人的技術能力是被社會認可的，而且大家的付費意願也很好。

記得當時，一家創業公司找我。他們花錢買流量，但大流量來了後，系統接不住，用戶沒辦法註冊，等於投放的錢打了水漂。於是，我幫他們解決這些問題。

他們系統是 PHP 的，我直接在線上幫他重構，沒有重構源代碼，只是重構架構。然後大概幹了兩天吧，基本上就可以救火了。我用了一些純運維的手段，在不改代碼的情況下，幫他搞定這種高並發的營銷活動。

這一套都搞定之後，**他問我要多少錢，我說兩天 5000 塊錢，你這沒啥技術含量。**他趕忙說可不是，我必須得給你五萬塊，因為你幫我們解決了大問題。

就這樣，我一邊在家裏待著陪父親，一邊幫其他公司解決問題。印象中有一個月，我大概一口氣服務了七八個公司，掙了 50 萬。算了下，那段時間，我的平均月薪是我在阿裏、亞馬遜三到四倍的樣子。  

我意識到，可以創業了。很明顯，市場對技術是有強烈需求的。**因為絕大多數好的技術人員都被大公司壟斷了，但中小公司也要發展**，他們的發展也需要技術，所以他們需要像我這樣的一些技術人員，能夠幫助他們解決一些實實在在的技術問題。

或主動，或被動地，我走上了創業這條路。我希望能用標準化的方式，來解決客戶遇到的問題。之前，雖然我以救火隊員的方式，手忙腳亂地暫時幫他們渡過了難關，但心裏也清楚，那不是長久之計。

我要創業，做一款標準化的產品。

**餓了麽的技術故事**

再講個故事，那段時間，我也和餓了麽合作過。餓了麽的電商，是我經歷過的所有電商系統中最難做的。

電商系統中，我覺得第一簡單的是阿裏的電商，因為它沒有庫存，所有的問題都是軟件層面的問題。

第二是亞馬遜，**亞馬遜有庫存，所有的訂單都要甩到庫存去，但是他們都不是實時的，送貨可以隔一天慢慢處理**。它不需要實時，你可以用異步的方式解決很多問題。

但像餓了麽這種實時訂單類型的，就很難用異步的方式做。因為它要解決的問題是每天中午用戶集中下單，想在 30 分鐘之內吃到午飯，就需要在幾分鐘之內快速調動所有的資源來為一個訂單服務。

當然， 這不只是技術問題，還是個業務問題，涉及商家、外賣員等等鏈條。不過，它有一個好的地方，就是區域性特征明顯，很適合分庫分表。

我接觸到餓了麽團隊的時候，他們系統並不穩定，經常會掛。而且有一個比較有意思的現象是如果美團掛了，那餓了麽必掛。或者說是餓了掛了，美團也會跟著掛。

為什麽呢？因為沒有任何一家公司可以在那一瞬間扛住全網的流量。所以，餓了麽就想做異地災備，**他們想的是既然我系統經常掛，那我就到異地另外一個機房建個災備系統。**

後來我跟餓了麽 CTO 雪峰講，災備不行，還是要做多活，而且餓了麽天生可以做多活。淘寶是全國人民在任何地方都可以買任何地方的商品，但餓了麽是本地消費，上海的在上海買，北京的在北京買。天生就適合做成異地多活。

雪峰一聽，覺得這個技術決策太誇張了，步子邁得有些大。我說這事對你們的架構和團隊都有極大好處。其實我這人，**經常在客戶那邊都會給出這種比較大的命題，有的客戶可能會覺得我不是來幫他們解決問題的，而是來讓他們難堪的**，哈哈哈哈。

對於我提出的異地多活的解決方案，餓了麽的團隊猶豫了很久。這中間，我一直在努力說服他們。有一次，我沒忍住給雪峰打電話，我說不行，你必須得大張旗鼓地幹，要不然無解。

**你面對的是一艘搖搖晃晃、力有不逮的小船，今天這補一個漏洞，明天那補一個漏洞，你這種一點點的小修小補是不行的，你必須要大來。**而且通過這個項目你可以全部把所有架構都梳理一遍。這多好的事。

後來，他們聽進去了，啟動了餓了麽異地多活的重構項目。為了這個項目，所有的需求全部停掉，全部讓路於這個項目。

做到最後，餓了麽幾乎所有系統都上了異地多活。

記得有一天，比較好玩的是，訂單峰值一下子上去了，是平時的 1.7 倍、1.8 倍的樣子，就想是不是市場在做活動。結果市場說沒有做任何活動，大家都懵了，不知道為什麽訂單量暴增。

過了 20 分鐘，就有新聞爆出來，說美團宕機了。**但餓了麽北京機房和上海機房是 1:1 的，可以容納全國所有流量，遇到類似的情況，不會再掛了**。後來，我還和雪峰開玩笑說，要不然咱們這樣，先讓餓了麽宕機，然後所有流量就會到美團那邊去，美團肯定撐不住，肯定要宕機。這個時候我們再把餓了麽拉起來，撐住全網的流量。哈哈哈，這純粹是在群裏開個玩笑。

**關於創業方向的選擇**

為什麽我創業會去做網關。其實要講清楚網關這些東西，我應該放出一個打印的 PPT 出來，像老羅一樣拿出一個 PPT，嗯，現在我放不出來（笑）。

我整理一下思路。其實用戶來找我無非就是幾個事。第一個是要我做高並發的事，比如營銷活動。第二個是想提高上線速度，比如可能需要用灰度發布、實時發布手段，來加快速度。第三個事情是用戶量很大，速度又很快，系統必然不穩定，所以需要高可用。

你發布速度快，必須要並行發布，肯定要用微服務。不用微服務的話還是單體，所有人都在排期，不可能快。**我記得阿裏的交易線上就不是一個微服務，很多人都在裏面寫，寫相同的代碼，一個大單體往上發布，得排期**。阿裏那種所謂的“快”其實也是拿人堆，並不是技術上你可以很悠閑的那種快，他是那種很忙碌的快，你通常要加班，如果排不了期就得趕下一期。不可能快的。

所以，所有這些技術都會導向高並發、開發速度要快、並行開發，再加上高可用。最後都會導向只有那麽一個類技術，就是雲原生、分布式、微服務，還有 Kubernetes。但這些東西是不是能解決用戶的問題？並不一定啊。

引導到這些地方，我們再抽象一下，**基本上就 4 塊，流量治理、服務治理、資源治理，還有數據治理**，這四塊東西會變成你的基礎設施。要解決上層的問題，你的基礎設施必須要好，就這意思。

就像我怎麽讓車開到 180 公裏每小時，**你先得鋪路去，先得把路搞好，就像中國的高鐵，並不是車開不快，而是之前鐵路不支持這樣的速度**，所以基礎設施不支持，你就沒辦法快起來。就像要讓飛機起飛，必須要有大量大規模的配套設施，基礎設施沒跟上，你完全做不到。

現在我看到，服務治理有 Java 在做，比如 Dubbo 或者 Spring Cloud，資源治理是 Kubernetes 在做。**還有兩個事情沒有人做，一個是流量治理，我就想流量那麽重要的事情，為什麽沒人在做？另外一個是監控，今天的監控就是整體運維的數據，你必須要有。**所以我們公司一開始起來做的就是一個流量網關，再加一個監控。

監控什麽意思？我創業的時候，每一家公司都在比誰家的監控指標多，包括餓了麽也一樣。我記得我在餓了麽的時候，有個同學來晉升，他說我們今天餓了麽的監控系統可以采集將近 50 萬個指標，到明年的時候，我要把它翻成 100 萬個指標。

但是，數據太多等於沒有信息啊。

有一個觀點，**數據是沒有用的，只有把數據關聯起來才有意義**。數據關聯了以後，才叫信息，我們不是做數據，我們是做信息。信息裏面找到因果關系，我們才能有知識，比如說因為這個所以那個，這叫知識；有了知識以後，才能導出公式，我們才能通過公式去完成一些事情。

**所有做科學實驗都是走這條路的，不斷地做實驗、拿數據，在數據裏面把它標註好，關聯起來，然後找信息**，從信息裏面找因果關系，從因果關系裏看看能不能推出一些公式。大概就是這麽一個邏輯。

所以我覺得，今天所有監控系統都做錯了，都在拼命地采集數據，而不思考這些數據到底裏面有什麽樣的聯系。

舉個例子，我們做監控系統時，要說清楚這個對外的 API，後面連著多少 service？以及這些 service 運行在哪些 resource 上？又使用了哪些數據庫、中間件？你如果說不清楚這些關聯數據，是沒辦法做的。

今天的運維，因為是按技能分工，我只關心我的底層資源，不關心你的應用層。這就導致了一個問題。比如說我來問你，我想下線這台機器，它到底影響哪些用戶？

我可以告訴你，在今天，中國沒有人，沒有任何一家公司，可以說清楚這個事情，包括 BAT。國外可以說得清清楚楚，因為數據有關聯，我知道你這台機器到底服務著前面哪些 API，這些 API 有多少用戶在用？我說的清楚這個事，因為數據是關聯著的。

這就是我們公司為什麽要走這條路。**一個是拿著流量的調度，另外一個是數據，我覺得這兩個事，然後再輔以像 Spring Cloud 服務治理、Kubernetes 資源治理這樣的產品，就完全齊活了**。這就是整體的基礎設施。

我們公司叫 MegaEase，翻譯成中文就是“巨大且容易”（笑）。

MegaEase 的 GitHub 地址：

https://github.com/megaease。

**為什麽我公司會選擇 Go 語言？**

我可能又要嘮叨一點了哈哈。

首先，做流量網關，其實國內現在已經有一些東西了，一種是偏應用，一種是偏控制面。偏控制面的像 Nginx 或者 HAProxy；偏應用的像 Envoy，還有 Java 的 Spring Cloud 或者 Zuul 。但 Java 那些東西的性能又很糟糕，性能好的就在 C 和 C++ 這邊，但我覺得語言門檻太高了，一般人是玩不了的。

**因為流量調度網關，一定是會有業務邏輯侵入的。有業務邏輯侵入的話，就必然需要大家可以定制、可以在上層進行開發擴展**。所以我們選擇技術，首先你要有很高的擴展性，而且技術門檻要低。

如果用 C 語言，我相信能夠參與貢獻 Commit 的人少之又少，Node.js、PHP、Java、Python 都屬於門檻比較低的，Go 也是，但是我們又需要兼顧性能。看了一圈所有，只有 Go 語言和 Rust 語言。

但是你要說為什麽沒有選 Rust 語言？首先 2016 年 Rust 還不怎麽樣，這幾年非常火我們也在用。我想告訴大家 Rust 語言是一個很好的語言，但是我覺得它的門檻也是非常非常高的，甚至會比 C 和 C++ 還要高，真的。

所以我們覺得，要讓大家可以去貢獻、去擴展，語言門檻放在這裏就會導致整個社區變涼，為什麽像 PHP 的社區，像 Java 的社區、 Python 社區、Node.js 這種社區很多很多？就是因為門檻低參與人多，所以基於這些方面的考慮，我們選擇了 Go 語言，這是第一個因素。

然後第二個因素，**為什麽我們會選擇 Go 語言，而不是其他的？**

因為我覺得一個流行技術必須要滿足這麽幾個條件。第一個門檻低。除了門檻低以外還需要有大公司在後面撐著，沒有大公司用的話不行，因為大公司用了以後就會在上面貢獻更多的特性。

而且大公司用得越多，就一定會有標準化的東西出來，比如 Java、C 和 C++，很多公司都在用，就有一個標準化組織。第三個，社區很重要，必須要有社區。第四個它必須要有殺手級應用。殺手級應用的意思就是它必須要有個成功案例，沒有成功案例不行。  

所以這 4 個因素：**門檻低、有大公司撐著、好的社區，還有殺手級應用，決定這個技術會不會成功，會不會爆。**

PHP 也有大公司用，比如 Facebook，社區也很好，門檻也低，又有殺手級應用 LAMP，所以 PHP 能爆火。雖然我不是很喜歡這個語言，我非常非常不喜歡。像 Java 語言也是全部都有，門檻也低，大公司不斷地投入。Go 語言其實也是這樣。

但 Rust 目前來說還沒看到。Rust 門檻比較高，社區並不活躍。大公司只有 AWS 說要用。殺手級應用才剛剛開始有苗頭，一個是 WebAssembly 就是 Web 上的匯編，一個是它逐步進入內核了。所以現在， Rust 有一點點起勢的苗頭。**但是它有一個非常致命的缺點，就是門檻太高。**

我很早就總結過：Java 適合做業務層，Go 適合做中間件、Rust 適合做系統層。很多公司業務層也都在用 Go 寫，我覺得沒啥問題。是這樣，業務層 Go 可以寫，你拿 Node.js 也能寫業務層，我以前都是拿 C 語言寫業務層，所以你拿什麽東西寫都可以。

Go 語言寫業務層，我覺得天然有一個好處就是 Go 沒有太多亂七八糟的東西，它特別適合寫面條代碼。**所謂的面條代碼就是這個業務流程長啥樣就怎麽寫，不需要任何抽象，這些代碼也懶得重用**，我直接寫就好。國內的很多 Go 語言開發者，我覺得可能有 80% 都是從 PHP 轉過來的，因為太適合寫面條代碼了。

但是，當你的架構變得越來越大、越來越覆雜，裏面一定要有一個框架的。比如 MVC 框架。**為什麽你發現 Java 代碼寫不爛，因為它有框架保證。**但 Go 語言代碼我看爛的就有一大堆。另外，服務越來越多，你開始要運維，做配置中心、服務治理那些中間件，但這方面，你會發現 Go 語言可用的不是很多，而 Java 那邊成熟的一大堆。

所以，早期的項目，你用什麽語言都行。**假如說我們把場景分成 0 到 1、1 到 10、10 到 100**，我今天跟大家說， 0 到 1 你愛用什麽語言用什麽語言，隨便你用，Rust、Swift、Kotlin 隨便什麽，C 語言都行，你要用匯編寫業務代碼，我覺得都沒問題。

**但是 1 到 10，你開始要尊重兩個東西**。第一個你的開發速度要快，第二個你的穩定性、性能這些要保證因為要擴展用戶，這個時候，你就必須得選一些工業化的語言。像 PHP 可能就有點受不了，Go 語言或者 Java、Ruby、Python 這些都還可以，因為生產力各方面都還可以。但是如果 10-100 的話，哎呦，我估摸著只剩 Java。所以，關鍵是你公司在哪個階段。

有時候我們上網一看，哇，**大量都是 Java 不行、Java 反人類、Java 太啰嗦，但是你可以看看，說的那些人他們可能都在小公司哈哈哈**，因為他的業務場景的確不需要用 Java，他說的是對的。或者是那些獨立開發者，都是從 0 到 1，他愛用啥就用啥，自己舒服就好。

但是你看那些大公司，銀行、電商、電信，只要是這種有交易型的用戶公司，包括嗶哩嗶哩所謂的自己用 Go，但是他做電商，你看他用啥，還是用 Java。Java，跑不掉的這個事情。

**創業幾年的反思**

我創業也是很坎坷崎嶇的。看似很好的一條路，但是一到創業的過程中，就發生了像中美貿易、疫情、資本趨於謹慎等等各種問題，互聯網一片慘淡。現在也還有很多各種問題，所以其實都還是挺不容易的。

**但是我堅持“條件受限是好事”，讓我可以去想一些更重要的東西**。比如很多公司可能想怎麽樣拿投資，現在我在想的是，怎麽樣能讓我們的公司不拿投資，自己成為一個能盈利的公司，能成為一個真正的公司，不是被人包養需要寄養的一個公司。這些是我每天在思考的。

其實大家也可以去思考，**這個世界其實並不完美，你會遇到很多很多讓你很無助的事情，**我也經歷過工資發不出來，自己掏錢給團隊發工資的時候，我一晚上睡不著覺，也經歷過。

但是我想說的就是，所有的路都是可以走的，不用擔心。但不是純靠堅持，關鍵是你一定要去想方法，想更好的、更優的解，這個事很關鍵，**千萬不要使蠻力，沒有太大意義。這是我創業學會的第一個道理**。方法會比努力更重要，所以我們不加班，如果團隊在加班，我覺得我們肯定方法不對。

我創業學會的第二個道理是關註你的重點，**不追小兔子。能讓你分心的事情太多太多了，你不知道你前面那座城池有多高**。因為你從來沒見過，一路上都會有很多很多的小兔子來找你。你一看，這個兔子好看，我來追一下，那邊又有一只蝴蝶，你就忘了你未來要去哪。

這兩個東西我覺得挺重要，這也是我創業這幾年來受到最大的兩個教訓。我覺得跟我們的人生也是很相通的。

**我的夢想**

**我活到 40 歲了，算是看出來，之所以這些大公司能壟斷，就是因為壟斷了技術人員，壟斷技術人員他就會壟斷掉這些技術，用技術來壓制你**。你們覺得有人寫程序搶月餅，他把那些搶月餅的人開掉了，其實他在整個社會上跟你搶月餅，跟所有沒有技術能力的人搶月餅，你們根本搶不過他。

所以我一定要把這個搶月餅的技術給到大家。我不覺得這個世界就是那一些公司在壟斷的，我希望能夠把技術惠及到所有人，大家都能搶月餅，就這意思。

所以我們公司的使命就是，**殘酷無情地降低技術門檻，讓普通的公司可以用到這些高級技術。**不是讓你用雲計算，我是要讓你用到解決方案，讓你一行代碼不改做秒殺，讓你系統再差也可以做秒殺，讓你可以做高可用，成本很低地做高可用，成本很低地做灰度發布，就這樣子，讓你可以去跟大廠去搶月餅，他們每天都在用各種各樣的技術手段在搶月餅。

我覺得這些技術並不難。難者不會，會者不難。

技術

**技術不是用來寫 CRUD 的**

低代碼會不會顛覆外包公司？這是一個很有意思的話題。過去一段時間，雲計算，更多是對企業運維側工作的變革。特別是 IaaS 和 PaaS，它做的都是技術側的事情，比如怎麽管理計算資源，怎麽做好監控。

我相信，**未來雲計算肯定是要慢慢向業務滲透的，因為有一部分業務是可以標準化的**。從這個角度看，外包公司可能會被顛覆。很多中小公司並不一定需要一個特別覆雜、定制化的產品，它們的需求是可以快速使用。

而快速使用、開箱即用類的產品，有兩類。第一，SaaS。像項目管理軟件、聊天軟件、銷售軟件這類的產品，企業沒有特別多的定制化需求，標準化的產品就夠用了。第二，低代碼。通過低代碼，企業可以搞定一些簡單的定制化類的需求。

很多外包公司我覺得還是缺少思考。**一個人，一家公司，如果不思考的話，那顛覆你的往往不是不是這些雲計算、低代碼這些技術，而是什麽都有可能顛覆你。**因為你只是在按部就班地做事，別人讓你做啥你就做啥，你沒有去想更多。

客戶說我要一匹更快的馬，你就去訓馬了，而不是想著做個汽車。這是外包公司最大的問題，他們沒有任何的話語權，客戶讓他幹啥他就幹啥。而絕大多數客戶，絕大多數時候是不知道自己想要什麽的。

低代碼肯定會替代一部分簡單的 CRUD 類的工作，但我覺得我們技術人員本應該去幹更高級的事情，而不是糾結這些。我想說的是，技術不是用來寫 CRUD 的，技術是用來創新的，這一點大家要理解。

如果你只是把業務流程給數字化、代碼化，那即使在大公司裏，你本質也是做外包。不要覺得在大公司裏就不是做外包，我給你講，你很有可能是在給那些運營做外包。**要理解，真正的技術是要拿來做創新的，你要去顛覆點什麽，要去創造點什麽。**

**基礎知識的意義**

我一直強調要學好基礎底層技術。兩個原因，第一，你得知道原理，知道某個技術它是怎麽運作的。不要著急，**有的人可能會說今天學了也沒什麽用，你還是要堅持學，因為你慢慢會發現，很多東西都是相通的**。

第二，**當遇到一些比較難解的問題時，你學到的這些知識就會派上用場。**這些難解的問題會讓你跟別人拉開差距，懂基礎和不懂基礎的人，他們的思考完全是在兩個層面。不懂基礎知識的人，他就在那瞎搞，這裏試一下，那裏試一下。運氣好，碰巧解決了，但也不知道怎麽回事。而懂基礎的人，他可以很快理解大概是怎麽回事。

我舉個例子，Linux 操作系統有時候我們會感覺寫硬盤很慢，但我想說，寫硬盤其實不慢，因為它有 Page Cache。**你寫硬盤，其實也是寫在操作系統的內存，然後內存在一點點換頁換到硬盤上。**很多中間件，比如 RocketMQ、Kafka，都會使用到 Page Cache 技術。只要 Page Cache 玩得好，那系統性能也會不錯。

還有像 TCP 原理。**有些時候網絡連接會閃斷。從 a 節點到 b 節點，中間經過了很多設備，你怎麽排查故障？**如果你懂原理，那就會容易些。第一，你先看看 TCP 的狀態，如果是 time wait 的話，那就是我主動斷開連接；如果是 close wait 的話，那就是對方主動斷開連接。你看狀態就能有一個基本的判斷。  

第二，如果沒有看到連接建立的話，你需要使用抓包的方式，像什麽 tcpdump、wireshark 之類，用這些工具，就能很快定位問題。如果你不懂基礎知識，那你很可能就不知道怎麽使用這些工具。**而沒有這些工具，解決那些問題，你估計就得使用蠻力了。**  

**如何選擇技術？**

每次直播的時候都有人來問我一個問題：我該不該從 .NET 轉 Java、該不該從 Java 轉 Go。我不直接回答這個問題。

我不知道這個問題背後的思維方式是啥，就是 .NET 怎麽樣？或者說 .NET 轉 Go 怎麽樣？我不知道你為什麽想問這個問題，你想從我這邊得到什麽樣的答案？想轉就轉唄。**是不是你需要有個人幫你堅定想法，還是需要有人告訴你一個答案，你才去做這個事情？我覺得你不要把人生的一些決定寄托在我身上，你自己的決定最好自己做。**

但是，我跟大家說一下，我之所以能夠做成今天這個樣子，**就是我隨時都在追逐一些我覺得是主流的技術，它是未來技術**。就像我在阿裏追 Docker，惹了 3 個團隊。但是我一點都不後悔，為什麽呢？因為我今天的很多想法都是因為我去用了這個技術我才會有。

包括我學 Java 也是一樣，**我始終都覺得我必須要靠上主流。說得俗一點，就是你必須要去風口，這個風口豬都會飛**。但是，要看那個風口是不是個短暫的風口，千萬不要去找短暫的風口，你要去找長風口，風可以吹一輩子的。

因為你是豬，你是沒翅膀的，你必須要一直有風吹著你才能飛；否則的話，你飛不起來，因為你沒翅膀。**你不是鳥，沒風都能飛，絕大多數人跟我一樣都是豬。**  

所以你需要站在一個天天都有風吹的地方，**比如說你選對了計算機專業，這就是一個風不停地吹的地方。**過去也好，今天也好，未來也好，整個世界都是被一堆程序員驅動，就是這些寫代碼的人在改變著未來。

所以今天這個風口是沒啥問題的，那問題就是你有沒有站在這個風口裏面的主流的技術上。

比如說，我覺得主流技術就是 Java，你又沒去學 Java。你看那麽多公司，有多少公司在用這個技術？這個技術可以幹什麽？我用了它我就不會失業，對吧？Go 語言也上來了，你是不是也要去看一下？滿世界都是 Linux，你怎麽可能不學呢？所以就這個意思。

現在都是手機，都是移動互聯網，所以你也得要去了解一下。包括雲原生很火，大數據也很火，這些都需要我們去看一下。

但是像區塊鏈這些東西，你就捫心自問一下，區塊鏈是不是所有公司都在用？沒有用就讓那些豬在天上再飛一會，指不定哪天風停了呢。但是，今天那些很強勁的風已經刮了十多年、二十年了，你為啥不去呢？

那些只刮了一兩天的風，你要小心，因為你沒翅膀，飛上去以後，風停了你就會摔得很慘。**那些刮了十幾二十年的風，你還沒站上去，要趕快站上去。**

**如何完成早期的技術積累？**

很多人覺得我已經完成了自己的技術積累，已經開始探索馬斯洛需求層次理論上層的事情了。是這樣子。

很多人知道我的時候，我已經有點名氣，我已經去了阿裏、亞馬遜，反正稍微有點成就。所以**你並不知道我剛開始出來是去了工商銀行，他們給我分了套房子。我父母是下崗工人，每個月兩個人加起來就 200 塊錢工資，我是 600 塊錢，我們一家三口 800 塊錢。**  

但當時，我不要了，全部都不要了，我要出去到上海做外包。

到上海的時候我拿 1500 塊錢的工資，租房 900 塊錢，然後一頓飯要吃 15 塊錢，你們算一算，一天的生活費我只夠吃一頓飯，而且我還得自己做飯。公司說出差一天有 30 塊錢的出差補貼，而且出差還管飯，所以我必須得出差。一出差，我的收入就好很多。

那時，我無時無刻都在想著，我要去更好的地方。那時候我們封閉開發，周一到周六全部待在開發中心，家都回不去。**即便這樣我也要去學習，周日我也要出去面試，去改變自己。**因為那種沒有技術含量的事情，我知道再做 100 次，也依舊沒有任何未來。

老實說，**我跟那些外包公司極度不和，我跟老板吵架，我甚至跟甲方的行長吵架你們相信。**因為我把事情做完了以後就在那看書，那個行長過來說，大家都在這外包，你為什麽要在這看書？我說我看的又不是閑書，我看的是技術書籍，你憑什麽不準看？你安排活給我做就好了，你管我看不看書？我就跟他吵架。

後來我選擇職業或者工作的時候，我寧可被公司開掉，也要去做有價值的東西，我從一開始的初衷就是這樣子。**並不是說今天功成名就了，我才這樣選；而是我一直都在這麽選，所以我才會有今天的成就，大家要理清楚這裏面的因果關系。**你不這麽選，你永遠不可能成為這個樣子，明白吧？  

現在我做公司也類似，有些項目我不接就不接了，我要接項目的話，也可以把自己做成一個外包公司，一年也有幾個億，但是有什麽意義呢？我設想是十幾個億的事情。

剛才有人跟我說我做的事情太大了，有點不可能。**這就對了，因為絕大多數人都不敢想，他們想一想就覺得這事不可能，就離開了，所以我沒有太多的競爭對手，明白嗎？**因為絕大多數人都不敢想，他們一想他們覺得我做不到，就傻掉了，他們自己就給自己思維框架裏面就設了一座墻，因為連嘗試他都不敢嘗試。

至少我敢嘗試，失敗了又能怎麽樣呢？反正我不會後悔。**我未來老了以後，四五十歲看我這段時間我至少試過失敗、至少試了一個牛逼的事情。**

那你們呢，自己的人生你連試都不敢試，想都不敢想。人，最可怕的是不敢想。**不****好意思，講得稍微有點激動。**

成長

**996 沒有成長怎麽辦？**

“畢業兩年，現在公司裏頭都是 996，日常的業務需求做不完，感覺自己在這個公司沒有什麽成長，學習也沒有多少時間，是不是應該考慮換工作了。”

對於這個問題，我想問，大家想過沒有，你找工作的目的是啥？

任何事情我們都得回到目的上，**如果找工作的目的是為了找碗飯吃，不讓自己餓死的話，那 996 這些我覺得都順其自然就好**，因為這是讓你不餓死的一條路。

如果你找工作的目的是為了實現自我價值，**那假使現在的公司不能幫你達到這樣的目標，你就應該勇敢尋找能夠幫你達到目標的公司**。比如，我以前是在銀行裏，從甲方跑出來，房子都不要了，我就是為了實現自我價值，所以我選擇公司的標準就是這個公司可不可以幫助我實現自我價值。

這是互相成就的一個事，我跟我的團隊的員工也是這樣說的：**你成就我，我成就你，這是雙向的事情。**

所以我覺得換不換工作問題在於，你得問一問自己，你想要什麽？如果你想要的是提升自我，那就應該去找能夠成就你的公司。那些公司也會問你，你能成就我啥？這就是一個相互交換的過程。當我們不斷去索取的時候，我們也需要給予。

**我貢獻價值，反過來，我希望公司也能給我價值。這是互相交換。**大家都是在簽合同，是雇傭關系，而不是什麽勞動關系，不是說是我為你工作，我就是你的人，不是賣身關系，這是個相互合作的關系。所以，如果不能達到目的，我建議你不要去，公司也需要很好的人。**好的機會從來都是給好的人，不會給不好的人。**  

**大公司和小公司的權衡**

其實無論大公司也好，小公司也罷，只要你用心觀察都能學到東西，但你不用心什麽都學不到。

**大公司最大的問題就是一個蘿卜一個坑，你就只能幹你那一小個環節，你就是他的零件。**所以很多人覺得大公司裏面學不到東西，反而在小公司裏可以做一個面的事情，能學得更多。其實不是。到大公司裏面，我覺得有三個東西是可以學得到的。  

**第一，組織管理。**大公司組織的運作方式、體系化的管理方式，怎麽調動那麽多人來完成一個事；或者一些思維方式，為什麽他要做這個而不是做那個。這是大公司跟小公司不一樣的地方，因為大公司有資源，可以去試錯，試過很多很多錯誤。每一個東西都是可以讓你思考。**第二，怎麽掙錢，大公司怎麽掙錢的。**

**第三，大公司裏面的一些高手是怎麽工作的。**因為大公司裏我覺得應該是有這個世界上最好的人。比如這個世界上最好的運營、最好的產品經理、最好技術人員，都在阿裏、亞馬遜、谷歌這樣的一些公司。所以你進去要去找大公司裏面那些聰明的人，跟他學，就像你打羽毛球下象棋一樣，你必須要找高手學。就這三個東西，在大公司裏面我覺得是最有價值的。

那亞馬遜和阿裏我學到什麽東西？  

在亞馬遜，我學到的是他組織整個公司是以微服務架構以工程師文化來分工的，**不再以技能分工，是以職責分工，也就是說我讓你完成一個事，你得從前端一直幹到數據庫，幹到運維等等**，任何一個環節都不算完，必須全部從頭到尾幹完。  

所以亞馬遜拆分組織是豎著切的。比如說這是購物車，這是下單，這是發短信，這是地址，然後有一個團隊負責所有事情，**這個團隊是 two-pizza team，兩張披薩可以餵飽，也就是 10 個人左右。**所以，亞馬遜是小團隊可以幹大事。這是我學到的，相當厲害。**因為以前什麽瀑布模型、敏捷，我都覺得有很多問題，直到我看到亞馬遜的這種組織方式。**

然後怎麽掙錢？亞馬遜是用技術掙錢，所以你看他做了世界上第一個推薦系統，也做了世界上第一個雲計算平台。

他是這麽想的：**首先一件事情，你必須把它抽象化，因為抽象化之後才可以簡化，簡化後才可以標準化，標準化的事情才能自動化，自動化的事情才能規模化。**

簡化—>標準化—>自動化這條線，全部都是技術在幹的事，第一次工業革命、第二次工業革命是一樣的，只有技術做到了，你才最終可能規模化，之後才有飛輪模型。這是亞馬遜的理念。

那在阿裏我學到了什麽？

第一，怎麽組織整個企業。**我覺得阿裏用一種政委文化。我雖然不太認可，但是這也是一種組織方式。**另外是一種激情、熱情，我覺得阿裏巴巴的員工就像打了雞血似的，可以為公司拼命地加班。當時雙十一的技術支持團隊，因為要做連續做 48 個小時，我說你們分成兩個團隊，一個做第一天，另一個做第二天，看行不行？然後他們說不，我們可以幹 48 小時不睡覺，大概是這樣。

而且我經常在阿裏看到員工說我這事做不好了，我就去跳西湖，或者說有軍令狀對賭的方式，員工跟公司立軍令狀說我今年我要做 300 億，如果做不到，我全年白幹，獎金升職都不要給我，但是我要是做上去了，每一分錢我都要參與，我要分給我的團隊。

我覺得，**阿裏讓我看到了跟其他公司完全不一樣的文化，他們太有熱情了，非常非常有熱情**，比起外企那種閑著整天想著怎麽早下班，是兩種不同的文化。這是阿裏的組織，我到今天我都在想怎麽樣把人的這種熱情給激勵出來。  

然後怎麽掙錢的？**電商，其實核心是想著怎麽樣讓你更快地做決定，因為你做決定的時間越短，我流量的轉化率就會越高**，對吧，這跟我們做技術一樣的，響應時間越短，你的吞吐量就會越大。所以我在買一件東西的時候，做決定的時間越短，轉化率就會越高。

阿裏掙錢其實跟亞馬遜有點類似，但是他們走的不是同一條路。

亞馬遜走的路叫簡單標準化，我為了要讓用戶更快地做決定，我要把最好的商品呈現在他面前，或者展示出能夠影響用戶做決定的那些最關鍵的因素，比如好評率，所以會有一些 rank。

但國內不是。國內要讓用戶更快做決定，其實要讓用戶瘋狂。國外是認為讓用戶在理智的情況下，會更快地做決定，國內是覺得用戶越不理智，會越快做決定，這是兩種不同掙錢方式。

所以我覺得這些東西都只能在大公司裏面學，小公司完全不開竅。那如果你一直在小公司去不了大公司，怎麽能快速成長？

其實也能成長，**關****鍵是你有沒有跟那些聰明人在一塊。因為並不是所有聰明人都會在大公司裏，越是聰明的人，可能越不喜歡待在大公司。**因為他待在大公司收益其實很小，他必須得沒有約束，不需要去搞什麽辦公室政治。

所以你的朋友圈會比公司更重要。你到大公司，也是要看你的朋友圈，這是一個非常非常重要的觀點，**你跟什麽樣的人在一起，決定了你怎麽樣成長；你跟什麽樣的人在一起，你就會被影響成什麽樣的人。**所以有的小公司也不一定不能成長，關鍵是你有沒有跟對人？他的格局夠不夠？

我們公司就非常註重員工成長，每周都要讓他們去做分享，我會留出大量的時間讓大家去學習，甚至要去寫東西。因為我覺得**寫作是一種深度思考，在寫作的過程中，你才會認真地去想、去總結、去歸納你所學到的知識。**

**沒有時間怎麽辦？**

這個事情我是這樣想的，你得管理時間。有時候向下管理，有時候向上管理。

向下管理就是管理自己的時間。

我們現在有點不好，**有手機隨時都會來通知，一會就被打斷。如果你的時間總是被打斷的話，利用效率是不高的，所以不要被打斷**。你說我們公司裏面還有什麽釘釘群這些東西，就很可怕的事，反正管理好自己時間。一般來說我喜歡專註做事情，在阿裏有些時候我也害怕被打斷，我就跑到別的辦公區裏工作，把手機直接靜音，然後一個小時以後再出來回覆一波。  

然後第二個，向上管理。

比如說是這個事情本來就是得一個星期才能做完的，他就要讓你兩三天做完，你要自己接了，就不要怪別人。該跟他鬥爭的還是要鬥爭，但是鬥爭是要有資本的。沒資本的話，就比較麻煩。

**對於類似的事情，我的思路是我可以辛苦，我可以加班，我肯定會努力做。欲先取之，必先予之。**等到領導對你、公司對你有比較大的依賴的時候，你就可以跟他談任意的條件，因為他很害怕你跑了。這就是資本。

但溝通的時候，也不要太直。**我在外企裏面學到的一個方法叫 Never Say No。他說和用戶溝通的時候，你永遠不要說不，這事我做不到**。**你要說 Yes，但永遠是有條件的 Yes。**比如這種情況下我能做到，那種情況下我做不到。你給我更多的時間，我能做得到，你給我那麽短的時間我做不到。或者說在那麽短的時間內我只能交付你半成品，你要不要？

就是我永遠都可以給你做出來東西，但是總是有代價的，總是有條件的。為什麽要這樣呢？別人把球傳給你，問你能不能做？我們技術人員比較實在，好像只能回答“能做”還是“不能做”，那你就被 PUA 了，知道吧？你知道你被 PUA 是什麽概念？**被 PUA 就說是你進入了別人的環境裏面，它營造了一個空間，把你扔進來，按照他的邏輯，就問你，給你一個答案，你能幹還是不能幹？**那無論你的答案是能還是不能，你都是被 PUA 的。

你要反 PUA 的話，必須得把他拉到我們喜歡的角度來，把這個壓力推回去，給他一系列的條件：

Option 1 ：我可以再按時完成，但是質量別想。

Option 2 ：你給我足夠的時間，我保質保量全部交付。

Option 3 ：我還是按你這個時間，但是你必須砍掉一些需求。

三個 Option 傳回去，就反轉了，因為這個邏輯是你的。他這時候就要痛苦地做選擇了。到底選 1、2 還是 3？因為每個選擇他都要付出一些東西，那就讓他去選，不要剝奪他的選擇權，**不要硬杠，你把選擇權傳給他，表面上你是在很好的交流，實際上你在 PUA 他。**

我給大家再舉一個例子，當時從阿裏出來的時候，因為工作居住證的一些問題，所以我需要阿裏給我賠償，但當時他們就很可怕地說：你是不是要敲詐我？律師團隊這麽說。我一想我敲詐多大的罪啊？要把我抓到監獄裏！因為我要求的那個數是比他要賠償我的更多一些，所以我說：

第一個我不要錢，一分錢不要。既然你也認這個事的話，你給我寫個道歉信，蓋上阿裏巴巴的公章就好。

第二個是按你說的賠償，你不用給我道歉，你告訴我這個錢的事由是什麽樣子，然後蓋上蓋公章，不然你說我詐騙，我可不敢要了這個錢。也就是說你給我賠償這個錢，必須說明這個錢是用來幹什麽的，然後蓋上你的公章，不然我以後說不清楚。

第三個是這些都不需要，然後我們就簽個協議，按照我的要求給我。他們自己肯定不願意出具我可以拿出去說的這麽一個證明嘛，對吧？

也就是說要反向 PUA，選項給對方，選項永遠都說可以幹的，但是你要有條件。**小胡同趕豬，我給你了 5 條路選，但是你肯定不會選那 4 條路，你只會選這條路**，因為那 4 條路他自己就去盤算了，就這樣子反向 PUA 就是反過來給他更多的選項。

好，這些都是這些我教大家的，不單單是管理時間了，哈哈哈。  

**怎麽才能學得快？**

我之前說我學 Go 語言大概一兩周時間就能夠學會。但很多同學說自己已經是 Java 程序員，要學 Go 語言可能用半年時間都搞不定。

我跟大家講一個故事。我以前剛去上海的時候買不了書，只能在書店裏面看書。我就把書店當成一個圖書館，看完後我會做筆記。我希望大家都有一種寫作或者做筆記的習慣。

以學編程語言為例。你學一門編程語言，總是要把它抽象成一棵知識樹。

因為剛開始你學各種各樣的語言，會發現，這個語言也有這幾塊東西，那個語言也有那幾塊東西。比如說，一個語言，它必然會有變量、分支，還有循環，這是它最基本的邏輯結構，所有語言都應該有的。然後更高級一點的特性，它也有一些數據結構，還有數組、字符串，再高級點比如泛型，還有面向對象的多態，還有一些類庫等等，這些都必須得要有。沒有這些東西的話，這個語言是挺難用。

**所以我學一個新的語言，我就會把這個語言照著我的框架來套。**這個語言有哪些分支邏輯、哪些聲明變量，多線程是怎麽玩的、面向對象多態怎麽玩的等等。我就照著套，半天或一兩天就套完了。這個語言也就學會了。

所以，**首先你有一個大的語言框架，新語言跑不出這個框架範圍，然後你把語言特性往框架裏面套就好了。**你學得多了，你未來就會越學越快的，因為你會自己總結。這就是學習的一個過程，當你有了一個系統的知識樹以後，然後你去填充這個樹，把它全部填滿了，你自然就學會了。

但是，**我學 Rust 語言就沒那麽快，雖然 Rust 我也在套，但套完以後，準備上手寫點東西的時候，就發現挺覆雜**。

我講一下我學 Rust 遇到的問題。首先，Rust 有所有權、生命周期、借用（借用就是引用）、共享各種各種亂七八糟的概念。

我寫代碼，要共享內存。**但是 Rust 不支持共享，一個變量賦值給另外一個變量，所有權就轉移了。**但是我偏要實現共享，然而共享就要用引用，引用就要玩生命周期，我就去寫 Lifetime ，寫 Lifetime 又要寫多線程。多線程裏面必須得用閉包，我就要在閉包裏面玩共享變量，閉包裏面我就要用 Lifetime……完蛋了。

這個代碼，我調了 3 天都沒調通，編譯我都編譯不出來。我到 Stack Overflow 上問了這個問題，兩天以後有人告訴我答案了。我看那個語法，哎呀，我都崩潰了，我是絕對不可能自己想得出來的。**所以我想說為什麽 Rust 門檻有點高，當我想去幹一件事情的時候，我卻發現我幹不出來**。所以我覺得它不是很成熟，學習門檻太高。

**學了就忘怎麽辦？**

很多同學說自己學了就忘，這種情況下，要不要繼續堅持。

我覺得你學了就忘，**是因為你在用記憶去學，而不是基於問題去學。**任何一個技術，都是在解決一個實際的問題。你一定要明白，你學這個技術，它到底解決什麽樣的問題，它是為什麽而生的。當你明白了這個“為什麽”以後，你才能夠記住那些原理。

“為什麽”是件很重要的事情。大家可以看我的 CoolShell 上的一篇博客《如何做一個有質量的技術分享》，**你必須要告訴用戶為什麽，到底要解決什麽樣的問題。**

**Why 這種學習方式，我們叫理性學習；What 這種學習方式，我們叫感性學習。**任何事情都是先從感性從是什麽開始，因為一開始你也問不出那麽多 Why。比如數學是 10 進制，不是 2 進制，不是 8 進制，也不是 16 進制，那為什麽一開始就設計成 10 進制，但是時間又是 12 進制？這些東西，你不知道 What 是問不出來的，但你一旦問出這個 Why，沒人告訴你，你的老師可能都不知道。

你的學習一定是從感性到理性的，**所以一開始你大概知道有那麽一回事，慢慢地看的東西多了，順理成章你就會想去了解一下為什麽**。比如說我學 Windows、Unix、 Linux 這三個系統，裏面有很多東西是相似的，有些東西又不太一樣的，學多了以後自然會問為什麽 C 和 C++ 全都是玩指針， Java 裏面為啥沒有指針？  

**如果只學單一的東西，你不會有那麽多疑問。**你看多了，學多了，開始比較，自然會有疑問，有了疑問就會想去探究背後的 Why。

還有就是你遇到一些實際的問題，在解決這些實際問題的時候，也會去真正地理解這個技術。總之，帶著問題去學。

**對我影響比較大的書**

技術書，對我影響比較大的是《Effective C++》，這本書讓我感受到了作者 Scott Meyers 的嚴謹精神**。他不是把一個技術設計出來就好了，他會想這個事有各種各樣的副作用，然後這些副作用怎麽不斷地求解，這種求真精神讓我很受震撼**。所以為什麽 《Effective C++》是一本全球暢銷書。很多後來的書，比如 《Effective Java》、 《Effective GO》都在模仿它。

書中有一句話，其實我記了一輩子，他說：“**美麗的東西都是膚淺的。**”意思就是你看得見那些美好的東西都是表面上的，所以他就是膚淺。你把它剝開了以後，那些東西才是比較深刻的東西，所以千萬不要被美所迷惑。哈哈，這也是我教育我們家孩子的，但是我不知道什麽時候才能感受到這個東西。

第二本書是讓我感覺寫代碼有一下子能夠提高的《Code Complete》。這本書可能有點過時，微軟的書，但是內容非常好。裝在書包裏面還挺重的，可以防身，你遇到有人要搶你，先拿這本書先，就是隨身帶著一塊板磚，可以拿著來打人的。

**這本書講了怎麽樣把一個代碼寫好的各種各樣的方向，以前從來沒有人跟我講過這些東西，沒有訓練，所以這是一本讓我覺得很爽的一個東西**。和這個書更相似的是像《設計模式》這樣的書，比如《Beautiful Code》，就是教你怎麽寫代碼，怎麽組織代碼，《重構》也是。

還有另外一本書，對我影響比較大：《Rework》。它不是技術書籍，但是我被它裏面所有的想法，嚴重洗腦了。

裏面講“條件受限是個好事”，**因為條件受限可以倒逼你抓重點，倒逼你做自動化，倒逼你簡化。我突然就想起我以前買不起書，那個條件受限的時候就必須要用更聰明的方式去學習，因為你買不起書，所以你必須要畫知識圖，全部都是在條件受限**。要是我條件不受限，可能我就不會這麽樣，我就會去買書，最後書堆著都沒法看。

還有一個觀點，**就是撓自己的癢處，自己覺得不爽了自己要去改變它。所以我覺得這個世界上很多能創業的人，或者說是能改變世界的人，一定是不能忍的人。**各位，如果你今天什麽事都能忍，你想一想還是忍了，我不去抗爭了，你一定不會成為這個世界的厲害的人，你一定沒有什麽利益的噱頭。

這個世界是屬於那些不能忍的人的，因為你不能忍了你才會想去改變它。知道嗎？各位。從你身邊的一點點小事開始，**你覺得不能忍了，不能抱怨了，你決定行動起來，改變點什麽，這時候，你就會琢磨怎麽才能更好。所有的東西都是從不能忍開始的。**

如果你什麽都能忍，那對不起你一定是韭菜。我看過的很多好的產品經理，他們都是不能忍，都是各種不能忍。所以他們就可以做得很好。不能忍的人一般標準很高，就是這樣子。

**35 歲危機**

我在一些群裏，40 歲程序員的群，然後還有些 35 歲以上程序員的群。我覺得那些群我連一天都不想看，太無聊了，裏面就是各種八卦，我不知道為什麽這些中年人天天都喜歡聊八卦，今天看見這個社會熱點又怎麽樣，那個熱點又怎麽樣。

我覺得是這樣的，不要覺得 35 歲、40 歲會是一個坎。我今天也在寫代碼，有句話是這麽說的：“**人不是因為變老了才沒有熱情，而是因為沒有熱情才會變老。**”

有的人說我老了，我學不動了。不是的，因為你學不動，你才變老了；不是你老了，你才學不動。**這個世界上有大量這樣本末倒置的因果關系的邏輯，如果你學得動，或者你還對這個事情充滿憧憬，有想法，願意去奮鬥的話，70 歲你都不老。**

像我今天這個樣子，我也不覺得我老。我覺得很多年輕人可能還不如我，他們在 20 多歲、30 多歲，可能就已經放棄了自己的人生，我今天還沒有放棄。所以， 35 也好， 40 也好，不用去想這個數字的事。